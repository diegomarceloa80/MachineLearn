---
title: "PRIMER REPORTE EN QUARTO"
author: "Diego Altamirano" 
date: "2025-09-26"
format:
  html:
    embed-resources: true
---

# Laboratorio 1
## Importar librerías y dataset
### Vivienda de Interés Social
#### Consejo Nacional para la Igualdad de Discapacidades
#### Contiene información de las personas con discapacidad beneficiarias de viviendas de interés social totalmente subvencionadas.
# importar las librerías

Gráfico de barras:
Este gráfico muestra el promedio de la variable x_discapacidad por provincia. Permite comparar visualmente qué provincias tienen mayor o menor promedio de personas con discapacidad beneficiarias.
```{python}
import pandas as pd
import altair as alt
from vega_datasets import data

dataset = pd.read_csv('conadis_2021.csv', encoding='latin1')

print(dataset.info())
print(dataset.head())

alt.Chart(dataset).mark_bar().encode(
    alt.X('provincia',sort='-y'),
    alt.Y('mean(x_discapacidad)',title='Average Province'),
    tooltip=['provincia','mean(x_discapacidad)']
).properties(
    width=400,
    height=400
)


```

Gráfico de dispersión (puntos):
Representa la relación entre la edad de los beneficiarios y la provincia, diferenciando por sexo. Ayuda a identificar la distribución de edades en cada provincia y posibles diferencias entre hombres y mujeres.
```{python}
alt.Chart(dataset).mark_point(filled=True).encode(
    x='edad:Q',           # Columna numérica en el eje X
    y='provincia:N',      # Columna categórica en el eje Y
    color='sexo:N',       # Color por sexo
    tooltip=['provincia', 'edad', 'sexo']  # Información al pasar el mouse
).interactive()
```

Gráfico de líneas:
Muestra la edad promedio de los beneficiarios por provincia. Es útil para observar tendencias y comparar cómo varía la edad promedio entre diferentes provincias.

```{python}
alt.Chart(dataset).mark_line(point=True).encode(
    x='provincia:N',         # Columna categórica (eje X)
    y='mean(edad):Q',        # Columna numérica agregada (eje Y)
    tooltip=['provincia', 'mean(edad)']
).properties(
    width=600,
    height=400,
    title='Edad promedio por provincia'
)
```

```{python}
import altair as alt
from vega_datasets import data

# Data generators for the background
sphere = alt.sphere() # Represents the globe
graticule = alt.graticule() # Represents the grid lines

# Source of land data
source = alt.topo_feature(data.world_110m.url, 'cities') # Represents the land data

# Layering and configuring the components
alt.layer(
    alt.Chart(sphere).mark_geoshape(fill='lightblue'),
    alt.Chart(graticule).mark_geoshape(stroke='white', strokeWidth=0.5),
    alt.Chart(source).mark_geoshape(fill='ForestGreen', stroke='black')
).project(
    'naturalEarth1'
).properties(width=600, height=400).configure_view(stroke=None)
```
